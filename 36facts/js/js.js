(function(){"use strict";var a=angular.module("LocalStorageModule",[]);a.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){this.prefix=a},this.setStorageType=function(a){this.storageType=a},this.setStorageCookie=function(a,b){this.cookie={expiry:a,path:b}},this.setStorageCookieDomain=function(a){this.cookie.domain=a},this.setNotify=function(a,b){this.notify={setItem:a,removeItem:b}},this.$get=["$rootScope","$window","$document",function(a,b,c){var d=this.prefix,e=this.cookie,f=this.notify,g=this.storageType,h=b[g];c||(c=document),"."!==d.substr(-1)&&(d=d?d+".":"");var i=function(){try{var c=g in b&&null!==b[g],e=d+"__"+Math.round(1e7*Math.random());return c&&(h.setItem(e,""),h.removeItem(e)),!0}catch(f){return g="cookie",a.$broadcast("LocalStorageModule.notification.error",f.message),!1}}(),j=function(b,c){if(!i)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),f.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),p(b,c);"undefined"==typeof c&&(c=null);try{(angular.isObject(c)||angular.isArray(c))&&(c=angular.toJson(c)),h.setItem(d+b,c),f.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:this.storageType})}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.message),p(b,c)}return!0},k=function(b){if(!i)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),q(b);var c=h.getItem(d+b);return c&&"null"!==c?"{"===c.charAt(0)||"["===c.charAt(0)?angular.fromJson(c):c:null},l=function(b){if(!i)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),f.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:b,storageType:"cookie"}),r(b);try{h.removeItem(d+b),f.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:b,storageType:this.storageType})}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),r(b)}return!0},m=function(){if(!i)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var b=d.length,c=[];for(var e in h)if(e.substr(0,b)===d)try{c.push(e.substr(b))}catch(f){return a.$broadcast("LocalStorageModule.notification.error",f.Description),[]}return c},n=function(b){b=b||"";var c=d.slice(0,-1),e=new RegExp(c+"."+b);if(!i)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),s();var f=d.length;for(var g in h)if(e.test(g))try{l(g.substr(f))}catch(j){return a.$broadcast("LocalStorageModule.notification.error",j.message),s()}return!0},o=function(){try{return navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.message),!1}},p=function(b,f){if("undefined"==typeof f)return!1;if(!o())return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var g="",h=new Date,i="";if(null===f?(h.setTime(h.getTime()+-864e5),g="; expires="+h.toGMTString(),f=""):0!==e.expiry&&(h.setTime(h.getTime()+24*e.expiry*60*60*1e3),g="; expires="+h.toGMTString()),b){var j="; path="+e.path;e.domain&&(i="; domain="+e.domain),c.cookie=d+b+"="+encodeURIComponent(f)+g+j+i}}catch(k){return a.$broadcast("LocalStorageModule.notification.error",k.message),!1}return!0},q=function(b){if(!o())return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var e=c.cookie&&c.cookie.split(";")||[],f=0;f<e.length;f++){for(var g=e[f];" "===g.charAt(0);)g=g.substring(1,g.length);if(0===g.indexOf(d+b+"="))return decodeURIComponent(g.substring(d.length+b.length+1,g.length))}return null},r=function(a){p(a,null)},s=function(){for(var a=null,b=d.length,e=c.cookie.split(";"),f=0;f<e.length;f++){for(a=e[f];" "===a.charAt(0);)a=a.substring(1,a.length);var g=a.substring(b,a.indexOf("="));r(g)}},t=function(){return g};return{isSupported:i,getStorageType:t,set:j,add:j,get:k,keys:m,remove:l,clearAll:n,cookie:{set:p,add:p,get:q,remove:r,clearAll:s}}}]})}).call(this),angular.module("thirtySixFacts",["thirtySixFacts.controllers","LocalStorageModule","ngRoute","ngResource"]).constant("MathFacts",mathFacts).config(["$routeProvider",function(a){a.when("/first",{controller:"FactsCntl",templateUrl:"views/facts.html"}).when("/second",{controller:"FactsCntl",templateUrl:"views/facts.html"}).when("/third",{controller:"FactsCntl",templateUrl:"views/facts.html"}).when("/fourth",{controller:"FactsCntl",templateUrl:"views/facts.html"}).when("/fifth",{controller:"FactsCntl",templateUrl:"views/facts.html"}).when("/sixth",{controller:"FactsCntl",templateUrl:"views/facts.html"}).when("/kindergarten",{controller:"FactsCntl",templateUrl:"views/facts.html"}).otherwise({redirectTo:"/kindergarten"})}]),angular.module("thirtySixFacts.controllers",[]),angular.module("thirtySixFacts.controllers").controller("FactsCntl",["$scope","$location",function(a,b){a.$location=b;var c={WAITING:0,RUNNING:1,DONE:2},d=b.path().substring(1);Object.keys(mathFacts[d]).length>1&&(mathFacts[d].humdinger=[],angular.forEach(mathFacts[d],function(a,b){"humdinger"!==b&&(mathFacts[d].humdinger=mathFacts[d].humdinger.concat(a))})),void 0===mathFacts[d][a.option.mode]&&(a.option.mode="addition"),a.$watch("option.mode",function(){f()});var e=void 0,f=function(){a.questionOrder=[];var b={};a.questionList=mathFacts[d][a.option.mode];for(var f=0;f<a.questionList.length;f++){for(var g=Math.round(Math.random()*(a.questionList.length-1));void 0!==b[g];)g=Math.round(Math.random()*(a.questionList.length-1));b[g]=1,a.questionOrder.push(g)}a.currentQuestion=0,a.status="Question 1 of "+a.questionList.length,a.state=c.WAITING,a.answer=void 0,e=void 0};f(),a.$watch("answer",function(b){if(a.state!==c.DONE){void 0!==b&&a.state===c.WAITING&&(a.state=c.RUNNING,e=new Date);var d=0,f=a.questionList[a.questionOrder[a.currentQuestion]];if("+"===f.op?d=f.a+f.b:"-"===f.op?d=f.a-f.b:"*"===f.op?d=f.a*f.b:"/"===f.op&&(d=f.a/f.b),parseInt(a.answer)===d)if(a.currentQuestion<a.questionList.length-1)a.answer=void 0,a.currentQuestion++,a.status="Question "+(a.currentQuestion+1)+" of "+a.questionList.length;else{a.state=c.DONE;var g=new Date,h=g-e;h/=1e3;var i=Math.round(h%60);h=Math.floor(h/60);var j=Math.round(h%60),k="minute";1!=j&&(k+="s");var l="second";1!=i&&(l+="s"),a.status="Done! Completed in "+j+" "+k+" and "+i+" "+l}}}),a.reloadPage=function(){location.reload()}}]),angular.module("thirtySixFacts.controllers").controller("MainCntl",["$scope","$location","localStorageService",function(a,b,c){a.$location=b,a.grades=[{name:"Kindergarten",path:"/kindergarten"},{name:"First Grade",path:"/first"},{name:"Second Grade",path:"/second"},{name:"Third Grade",path:"/third"},{name:"Fourth Grade",path:"/fourth"},{name:"Fifth Grade",path:"/fifth"},{name:"Sixth Grade",path:"/sixth"}],a.getOptions=function(a){return Object.keys(mathFacts[a.path.substring(1)])},c.add("lastMode",a.mode);var d=c.get("lastOptionMode")||"addition";a.option={mode:d},a.setOption=function(b){c.add("lastOptionMode",b),a.option.mode=b}}]);var mathFacts={kindergarten:{},first:{},second:{},third:{},fourth:{},fifth:{},sixth:{}},entry={type:"addition",facts:[{a:1,b:1,op:"+"},{a:1,b:2,op:"+"},{a:1,b:3,op:"+"},{a:1,b:4,op:"+"},{a:1,b:5,op:"+"},{a:1,b:6,op:"+"},{a:1,b:7,op:"+"},{a:1,b:8,op:"+"},{a:1,b:9,op:"+"},{a:2,b:2,op:"+"},{a:2,b:3,op:"+"},{a:2,b:4,op:"+"},{a:2,b:5,op:"+"},{a:2,b:6,op:"+"},{a:2,b:7,op:"+"},{a:2,b:8,op:"+"},{a:2,b:9,op:"+"},{a:3,b:3,op:"+"},{a:3,b:4,op:"+"},{a:3,b:5,op:"+"},{a:3,b:6,op:"+"},{a:3,b:7,op:"+"},{a:3,b:8,op:"+"},{a:3,b:9,op:"+"},{a:0,b:1,op:"+"},{a:0,b:2,op:"+"},{a:0,b:3,op:"+"},{a:0,b:4,op:"+"},{a:0,b:5,op:"+"},{a:0,b:6,op:"+"},{a:0,b:7,op:"+"},{a:0,b:8,op:"+"},{a:0,b:9,op:"+"},{a:0,b:0,op:"+"}]};mathFacts.kindergarten[entry.type]=entry.facts,mathFacts.first[entry.type]=entry.facts,entry={type:"addition",facts:[{a:2,b:2,op:"+"},{a:2,b:3,op:"+"},{a:2,b:4,op:"+"},{a:2,b:5,op:"+"},{a:2,b:6,op:"+"},{a:2,b:7,op:"+"},{a:2,b:8,op:"+"},{a:2,b:9,op:"+"},{a:3,b:3,op:"+"},{a:3,b:4,op:"+"},{a:3,b:5,op:"+"},{a:3,b:6,op:"+"},{a:3,b:7,op:"+"},{a:3,b:8,op:"+"},{a:3,b:9,op:"+"},{a:4,b:4,op:"+"},{a:4,b:5,op:"+"},{a:4,b:6,op:"+"},{a:4,b:7,op:"+"},{a:4,b:8,op:"+"},{a:4,b:9,op:"+"},{a:5,b:5,op:"+"},{a:5,b:6,op:"+"},{a:5,b:7,op:"+"},{a:5,b:8,op:"+"},{a:5,b:9,op:"+"},{a:6,b:6,op:"+"},{a:6,b:7,op:"+"},{a:6,b:8,op:"+"},{a:6,b:9,op:"+"},{a:7,b:7,op:"+"},{a:7,b:8,op:"+"},{a:7,b:9,op:"+"},{a:8,b:8,op:"+"},{a:8,b:9,op:"+"},{a:9,b:9,op:"+"}]},mathFacts.first[entry.type+" set 2"]=entry.facts,mathFacts.second[entry.type]=entry.facts,mathFacts.third[entry.type]=entry.facts,mathFacts.fourth[entry.type]=entry.facts,mathFacts.fifth[entry.type]=entry.facts,mathFacts.sixth[entry.type]=entry.facts,entry={type:"subtraction",facts:[{a:0,b:0,op:"-"},{a:1,b:0,op:"-"},{a:2,b:0,op:"-"},{a:3,b:0,op:"-"},{a:4,b:0,op:"-"},{a:5,b:0,op:"-"},{a:6,b:0,op:"-"},{a:7,b:0,op:"-"},{a:8,b:0,op:"-"},{a:9,b:0,op:"-"},{a:1,b:1,op:"-"},{a:2,b:1,op:"-"},{a:3,b:1,op:"-"},{a:4,b:1,op:"-"},{a:5,b:1,op:"-"},{a:6,b:1,op:"-"},{a:7,b:1,op:"-"},{a:8,b:1,op:"-"},{a:9,b:1,op:"-"},{a:2,b:2,op:"-"},{a:3,b:2,op:"-"},{a:4,b:2,op:"-"},{a:5,b:2,op:"-"},{a:6,b:2,op:"-"},{a:7,b:2,op:"-"},{a:8,b:2,op:"-"},{a:9,b:2,op:"-"},{a:3,b:3,op:"-"},{a:4,b:3,op:"-"},{a:5,b:3,op:"-"},{a:6,b:3,op:"-"},{a:7,b:3,op:"-"},{a:8,b:3,op:"-"},{a:9,b:3,op:"-"}]},mathFacts.first[entry.type]=entry.facts,mathFacts.second[entry.type]=entry.facts,entry={type:"subtraction",facts:[{a:4,b:2,op:"-"},{a:5,b:2,op:"-"},{a:6,b:2,op:"-"},{a:7,b:2,op:"-"},{a:8,b:2,op:"-"},{a:9,b:2,op:"-"},{a:10,b:2,op:"-"},{a:11,b:2,op:"-"},{a:6,b:3,op:"-"},{a:7,b:3,op:"-"},{a:8,b:3,op:"-"},{a:9,b:3,op:"-"},{a:10,b:3,op:"-"},{a:11,b:3,op:"-"},{a:12,b:3,op:"-"},{a:8,b:4,op:"-"},{a:9,b:4,op:"-"},{a:10,b:4,op:"-"},{a:11,b:4,op:"-"},{a:12,b:4,op:"-"},{a:13,b:4,op:"-"},{a:10,b:5,op:"-"},{a:11,b:5,op:"-"},{a:12,b:5,op:"-"},{a:13,b:5,op:"-"},{a:14,b:5,op:"-"},{a:12,b:6,op:"-"},{a:13,b:6,op:"-"},{a:14,b:6,op:"-"},{a:15,b:6,op:"-"},{a:14,b:7,op:"-"},{a:15,b:7,op:"-"},{a:16,b:7,op:"-"},{a:16,b:8,op:"-"},{a:17,b:8,op:"-"},{a:18,b:9,op:"-"}]},mathFacts.second[entry.type]=entry.facts,mathFacts.third[entry.type]=entry.facts,mathFacts.fourth[entry.type]=entry.facts,mathFacts.fifth[entry.type]=entry.facts,mathFacts.sixth[entry.type]=entry.facts,entry={type:"multiplication",facts:[{a:2,b:2,op:"*"},{a:3,b:2,op:"*"},{a:4,b:2,op:"*"},{a:5,b:2,op:"*"},{a:6,b:2,op:"*"},{a:7,b:2,op:"*"},{a:8,b:2,op:"*"},{a:9,b:2,op:"*"},{a:3,b:3,op:"*"},{a:4,b:3,op:"*"},{a:5,b:3,op:"*"},{a:6,b:3,op:"*"},{a:7,b:3,op:"*"},{a:8,b:3,op:"*"},{a:9,b:3,op:"*"},{a:4,b:4,op:"*"},{a:5,b:4,op:"*"},{a:6,b:4,op:"*"},{a:7,b:4,op:"*"},{a:8,b:4,op:"*"},{a:9,b:4,op:"*"},{a:5,b:5,op:"*"},{a:6,b:5,op:"*"},{a:7,b:5,op:"*"},{a:8,b:5,op:"*"},{a:9,b:5,op:"*"},{a:6,b:6,op:"*"},{a:7,b:6,op:"*"},{a:8,b:6,op:"*"},{a:9,b:6,op:"*"},{a:7,b:7,op:"*"},{a:8,b:7,op:"*"},{a:9,b:7,op:"*"},{a:8,b:8,op:"*"},{a:9,b:8,op:"*"},{a:9,b:9,op:"*"}]},mathFacts.third[entry.type]=entry.facts,mathFacts.fourth[entry.type]=entry.facts,mathFacts.fifth[entry.type]=entry.facts,mathFacts.sixth[entry.type]=entry.facts,entry={type:"division",facts:[{a:16,b:4,op:"/"},{a:21,b:3,op:"/"},{a:9,b:3,op:"/"},{a:16,b:2,op:"/"},{a:10,b:2,op:"/"},{a:4,b:2,op:"/"},{a:20,b:4,op:"/"},{a:24,b:3,op:"/"},{a:12,b:3,op:"/"},{a:18,b:2,op:"/"},{a:12,b:2,op:"/"},{a:6,b:2,op:"/"},{a:24,b:4,op:"/"},{a:27,b:3,op:"/"},{a:15,b:3,op:"/"},{a:18,b:3,op:"/"},{a:14,b:2,op:"/"},{a:8,b:2,op:"/"},{a:64,b:8,op:"/"},{a:49,b:7,op:"/"},{a:42,b:6,op:"/"},{a:40,b:5,op:"/"},{a:25,b:5,op:"/"},{a:28,b:4,op:"/"},{a:72,b:8,op:"/"},{a:56,b:7,op:"/"},{a:48,b:6,op:"/"},{a:45,b:5,op:"/"},{a:30,b:5,op:"/"},{a:32,b:4,op:"/"},{a:81,b:9,op:"/"},{a:63,b:7,op:"/"},{a:54,b:6,op:"/"},{a:36,b:6,op:"/"},{a:35,b:5,op:"/"},{a:36,b:4,op:"/"}]},mathFacts.fourth[entry.type]=entry.facts,mathFacts.fifth[entry.type]=entry.facts,mathFacts.sixth[entry.type]=entry.facts;